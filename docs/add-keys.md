# Добавление ключей

[Назад к списку компонентов](../README.md)

## Назначение

Компонент добавляет к строке JSON ключи до второго уровня вложенности и фигурные скобки (опционально).

## Входные порты

| Название                | Тип        |
|:------------------------|:-----------|
| Входной источник данных | Таблица    |
| Переменные              | Переменные |

### Структура таблицы "Входной источник данных"

| Метка         | Тип                                       | Описание                       |
|:--------------|:------------------------------------------|:-------------------------------|
| Строка JSON   | ![](./img/string.svg) Строковый           | Набор данных в формате JSON    |

### Переменные в порте "Переменные"

| № | Метка                      | Тип                                 | Значение |
|:--|:---------------------------|:------------------------------------|:---------|
| 1 | Имя ключа первого уровня   | ![](./img/string.svg) Строковый     | DataSet  |
| 2 | Имя ключа второго уровня   | ![](./img/string.svg) Строковый     | Rows     |
| 3 | Фигурные скобки            | ![](./img/logical.svg) Логический   | true     |

1. Переменные **Имя ключа первого уровня** и **Имя ключа второго уровня** добавляют к строке JSON ключи до второго уровня вложенности. Если значение одной из переменных пустое, то ключом первого уровня будет считаться переменная с указанным значением.

Пример:

```json
{
  "Dataset": {          <-- Первый уровень
    "Rows": [           <-- Второй уровень
      {
        "id": 1,
        "name": "Иванов"
      },
      {
        "id": 2,
        "name": "Петров"
      }
    ]
  }
}
```

2. Переменная **Фигурные скобки** добавляет к исходной строке JSON открывающие и закрывающие фигурные скобки при включенном флаге. По умолчанию **true**.

## Выходные порты

| Название                | Тип         |
|:------------------------|:------------|
| Выходной набор данных   | Таблица    |

### Структура таблицы "Выходной набор данных"

| Метка         | Тип                                       | Описание                                                |
|:--------------|:------------------------------------------|:--------------------------------------------------------|
| Строка JSON   | ![](./img/string.svg) Строковый           | Результат преобразования набора данных в строку JSON    |

